//
// Hammer Project
// @ 2016 Hammer Project
// www.hammer-project.com
// mauro.pelucchi@gmail.com
//
// Sports Participation in Africa (number of participation and number of medals win)
// from africaopendata.org 
//
//
// SQL
// SELECT category, medals, participation
// FROM sports
// WHERE region = "africa"

{
  "select": [
  	  { "column": { "instance": "sports", "label":"category"}},
      { "column": { "instance": "sports", "label":"medals"}},
      { "column": { "instance": "sports", "label":"participation"}}
  ],
  "from": [
    "sports"
  ],
  "where": [{"condition": {
      "instance1": "sports",
      "label1": "region",
      "operator": "eq",
      "value": "africa",
      "logicalOperator": "and"
    }}
  ]
}

//
// Open Data Sources (total) --> 27
// Open Data Resource (total) --> 39716
// Index keywords (total) --> 77027
// (updated 4/5/2016 06:59)
//
//
// Selected keywords
// ----> africa
// ----> sports
//  
//  db.index.aggregate([
// 	{ $match: {"$or" : [ { "keyword" : "africa"} , { "keyword" : "sports"}]} },
// 	{ $project: {total: { $size: "$documents" }}}
//  ]);
//
//
// { "_id" : "africa", "total" : 151 }
// { "_id" : "sports", "total" : 18 }
// Documents --> 169
//
// Without keywords
//   db.index.aggregate([
//   	{ $match: {"$or" : [ { "keyword" : "region"} , { "keyword" : "partecipation"} , { "keyword" : "category"} , { "keyword" : "medals"} ,{ "keyword" : "africa"} , { "keyword" : "sports"}]} },
//   	{ $project: {total: { $size: "$documents" }}}
//   ]);
// 
// { "_id" : "medals", "total" : 4 }
// { "_id" : "africa", "total" : 151 }
// { "_id" : "category", "total" : 30 }
// { "_id" : "region", "total" : 219 }
// { "_id" : "sports", "total" : 18 }
// 
// Documents --> 422